<!DOCTYPE html>
<html>
<head>
  <title>Cart - Online Book Store</title>
  <link rel="stylesheet" href="cart.css">
</head>
<body>
  <h1>Your Shopping Cart</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="catalogue.html">Catalogue</a>
  </nav>

  <table id="cartTable">
    <tr>
      <th>Book Title</th>
      <th>Price (₹)</th>
      <th>Action</th>
    </tr>
  </table>
  <h2 id="total"></h2>

  <script>
    // Load cart from localStorage
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let table = document.getElementById("cartTable");
    let total = 0;

    function renderCart() {
      // Clear table except header
      table.innerHTML = `
        <tr>
          <th>Book Title</th>
          <th>Price (₹)</th>
          <th>Action</th>
        </tr>
      `;
      total = 0;

      cart.forEach((item, index) => {
        let row = table.insertRow();
        row.insertCell(0).innerText = item.title;
        row.insertCell(1).innerText = item.price;
        let actionCell = row.insertCell(2);

        let removeBtn = document.createElement("button");
        removeBtn.innerText = "Remove";
        removeBtn.onclick = function() {
          cart.splice(index, 1);
          localStorage.setItem("cart", JSON.stringify(cart));
          renderCart();
        };
        actionCell.appendChild(removeBtn);

        total += item.price;
      });

      document.getElementById("total").innerText = "Total: ₹" + total;
    }

    renderCart();
  </script>
</body>
</html>
